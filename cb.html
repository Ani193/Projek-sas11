<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Penyewaan Alat Camping</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-4">
    <h2>Form Penyewaan Alat Camping</h2>
    <form id="formPenyewaan">
      <!-- Formulir Input -->
      <div class="mb-2">
        <label>Nama Lengkap</label>
        <input type="text" id="nama" class="form-control" required>
      </div>
      <div class="mb-2">
        <label>Email</label>
        <input type="email" id="email" class="form-control" required>
      </div>
      <div class="mb-2">
        <label>Telepon</label>
        <input type="text" id="telepon" class="form-control" required>
      </div>
      <div class="mb-2">
        <label>Alamat</label>
        <input type="text" id="alamat" class="form-control" required>
      </div>
      <!-- Data alat camping -->
      <div class="mb-2">
        <label>Alat Camping (contoh: Tenda, Sleeping Bag)</label>
        <input type="text" id="alat" class="form-control" required>
      </div>
      <!-- Data paket -->
      <div class="mb-2">
        <label>Paket Penyewaan</label>
        <input type="text" id="paket" class="form-control">
      </div>
      <!-- Tanggal mulai sewa -->
      <div class="mb-2">
        <label>Tanggal Mulai Sewa</label>
        <input type="date" id="tanggalMulai" class="form-control" required>
      </div>
      <!-- Tanggal kembali -->
      <div class="mb-2">
        <label>Tanggal Kembali</label>
        <input type="date" id="tanggalKembali" class="form-control" required>
      </div>
      <!-- Metode pembayaran -->
      <div class="mb-2">
        <label>Metode Pembayaran</label>
        <select id="metodePembayaran" class="form-control" required>
          <option>Transfer Bank</option>
          <option>E-Wallet</option>
          <option>COD</option>
        </select>
      </div>
      <!-- Status Membership -->
      <div class="mb-2">
        <label>Status Membership</label>
        <select id="membership" class="form-control" required>
          <option>Biasa</option>
          <option>Member</option>
        </select>
      </div>

      <!-- Tombol kirim -->
      <button type="submit" class="btn btn-primary">Mulai Proses Pemesanan</button>
    </form>
  </div>

  <!-- Script untuk menyimpan data dan mengalihkan ke data.html -->
  <script>
    // Event listener untuk form
    document.getElementById('formPenyewaan').addEventListener('submit', function(e) {
      e.preventDefault(); // Mencegah form dikirim secara default

      // Ambil data dari form
      const nama = document.getElementById('nama').value;
      const email = document.getElementById('email').value;
      const telepon = document.getElementById('telepon').value;
      const alamat = document.getElementById('alamat').value;
      const alat = document.getElementById('alat').value.split(','); // Misal, user memasukkan alat dengan koma
      const paket = document.getElementById('paket').value.split(','); // Jika ada paket
      const tanggalMulai = document.getElementById('tanggalMulai').value;
      const tanggalKembali = document.getElementById('tanggalKembali').value;
      const metodePembayaran = document.getElementById('metodePembayaran').value;
      const membership = document.getElementById('membership').value;

      // Buat objek data
      const dataPenyewaan = {
        nama,
        email,
        telepon,
        alamat,
        alat,
        paket,
        tanggalMulai,
        tanggalKembali,
        metodePembayaran,
        membership
      };

      // Ambil data yang ada dari localStorage
      let data = JSON.parse(localStorage.getItem('dataPenyewaan')) || [];

      // Masukkan data baru ke dalam array
      data.push(dataPenyewaan);

      // Simpan data ke localStorage
      localStorage.setItem('dataPenyewaan', JSON.stringify(data));

      // Alihkan pengguna ke data.html
      window.location.href = "form_admin.html"; 
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>