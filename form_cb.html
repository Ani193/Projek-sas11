<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Form Penyewaan Alat Camping</title>
  <style>
    body {
      font-family: Georgia, 'Times New Roman', Times, serif;
    }
    
    .container-4 {
      background-color: #d9e0e0;
      padding: 20px;
      max-width: 800px;
      margin: auto;
      margin-top: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
    }

    .form-section {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 6px;
    }

    input[type="text"],
    input[type="email"],
    input[type="date"],
    input[type="number"],
    select {
      width: 100%;
      padding: 6px;
      margin-bottom: 10px;
    }

    .inline-group {
      display: flex;
      gap: 10px;
    }

    .inline-group > div {
      flex: 1;
    }

    .checkbox-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .checkbox-row select {
      width: 60px;
    }

    .total {
      font-weight: bold;
      font-size: 18px;
      margin: 20px 0 10px;
    }

    .form-check {
      margin-top: 10px;
    }

    button {
      display: block;
      margin: 0 auto;
      padding: 10px 20px;
      background-color: white;
      color: black;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #7bc266;
    }
  </style>
</head>
<body>
<div class="container-4">
  <h2>Form Penyewaan Alat Camping</h2>
  <form id="formPenyewaan">
    <div class="form-section">
      <div class="inline-group">
        <div>
          <label>Nama Lengkap</label>
          <input type="text" name="nama" required>
        </div>
        <div>
          <label>Email</label>
          <input type="email" name="email" required>
        </div>
      </div>
      <label>Nomor Telepon</label>
      <input type="text" name="telepon" required>

      <label>Alamat</label>
      <input type="text" name="alamat" required>

      <label>Status Membership</label>
      <div class="inline-group">
        <label><input type="radio" name="membership" value="blasa" checked> Blasa</label>
        <label><input type="radio" name="membership" value="member"> Member</label>
      </div>
    </div>

    <div class="form-section">
      <strong>Pilih Alat Camping</strong>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="50000"> Tenda kap. 4 orang</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp50.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="25000"> Tenda kap. 6 orang</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp25.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="20000"> Matras spon</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp20.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="10000"> Lampu tenda</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp10.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Sleeping bag</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Gas portable</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Kompor portable</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> peralatan masak</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Kompas</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Matras alumunium</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Headlamp</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Raincoat</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Coverbag</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Daypack</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Trecking pole</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Kursi lipat</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
      <div class="checkbox-row">
        <label><input type="checkbox" class="item" data-price="15000"> Senter</label>
        <select class="qty" disabled>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
        <span>Rp15.000</span>
      </div>
    </div>

    <div class="form-section">
      <strong>Pilih Paket Penyewaan (Opsional)</strong>
      <label><input type="checkbox" name="paket" value="Pemula"> Paket Pemula <br>(Tenda kap. 2 orang, Matras spon, Sleeping bag, Lampu tenda, Kompas) Rp315.000 (2 hari 1 malam)</label><br>
      <label><input type="checkbox" name="paket" value="Keluarga"> Paket Keluarga <br>(Tenda kap.6 orang, Matras spon, Sleeping bag, Kompor portable, Peralatan masak, Lampu tenda, Gas portable) Rp537.000 (2 hari 1 malam)</label><br>
      <label><input type="checkbox" name="paket" value="Lengkap"> Paket Lengkap <br>(Tenda kap.6 orang, Sleeping bag, Matras alumunium, Matras spon, Kompor portable, Gas portable, Lampu tenda, Peralatan masak, Carrier bag, Day pack, Cover bag, Headlamp kecil, Kompas, Trekking pole, Kursi lipat, Rain coat) Rp852.000 (2 hari 1 malam)</label>
    </div>

    <div class="form-section inline-group">
      <div>
        <label>Tanggal Mulai Sewa</label>
        <input type="date" name="mulai" required>
      </div>
      <div>
        <label>Tanggal Kembali</label>
        <input type="date" name="kembali" required>
      </div>
    </div>

    <div class="form-section">
      <strong>Pilih Metode Pembayaran</strong>
      <label><input type="radio" name="pembayaran" value="bank"> Transfer Bank</label>
      <label><input type="radio" name="pembayaran" value="ewallet"> E-Wallet</label>
      <label><input type="radio" name="pembayaran" value="cod"> Bayar di Tempat</label>
    </div>

    <div class="form-section">
      <label class="form-check">
        <input type="checkbox" required> Saya telah membaca dan menyetujui <em>Syarat & Ketentuan</em>
      </label>
    </div>

    <div class="total" id="totalDisplay">Total Bayar: Rp0</div>

    <button type="submit">Mulai Proses Pemesanan</button>
  </form>
</div>

<script>
  const checkboxes = document.querySelectorAll('.item');
  const quantities = document.querySelectorAll('.qty');
  const totalDisplay = document.getElementById('totalDisplay');
  const paketCheckboxes = document.querySelectorAll('input[name="paket"]');
  const paketHarga = {
    "Pemula": 315000,
    "Keluarga": 537000,
    "Lengkap": 852000
  };

  function updateTotal() {
    let total = 0;

    checkboxes.forEach((item, i) => {
      if (item.checked) {
        const qty = parseInt(quantities[i].value);
        const price = parseInt(item.dataset.price);
        total += qty * price;
      }
    });

    paketCheckboxes.forEach(paket => {
      if (paket.checked) {
        total += paketHarga[paket.value];
      }
    });

    totalDisplay.textContent = 'Total Bayar: Rp' + total.toLocaleString('id-ID');
  }

  checkboxes.forEach((item, i) => {
    item.addEventListener('change', () => {
      quantities[i].disabled = !item.checked;
      updateTotal();
    });
    quantities[i].addEventListener('change', updateTotal);
  });

  paketCheckboxes.forEach(paket => {
    paket.addEventListener('change', updateTotal);
  });

  const form = document.getElementById('formPenyewaan');
  form.addEventListener('submit', (e) => {
    const mulai = new Date(form.mulai.value);
    const kembali = new Date(form.kembali.value);
    if (mulai >= kembali) {
      e.preventDefault();
      alert("Tanggal kembali harus setelah tanggal mulai sewa.");
    }

    // Ambil data yang ada dari localStorage
    let data = JSON.parse(localStorage.getItem('dataPenyewaan')) || [];

// Masukkan data baru ke dalam array
data.push(dataPenyewaan);

// Simpan data ke localStorage
localStorage.setItem('dataPenyewaan', JSON.stringify(data));

// Alihkan pengguna ke data.html
window.location.href = "form_admin.html";
  });
</script>
</body>
</html>